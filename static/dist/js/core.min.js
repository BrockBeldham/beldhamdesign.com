(function(){var t=this,o=t._,e=t.jQuery,n=t.Backbone,i=t.Portfolio||(t.Portfolio={}),a=i.Core=function(t){var o={selectors:{homePage:"#home",workPage:"#work",aboutPage:"#about",contactPage:"#contact",navLink:"[data-nav-link]",container:".container",header:".hdr",work:"[data-work-info]",popClose:"[data-pop-close]",pop:".pop",popContent:".pop-content"},durations:{pageTransition:700},routes:{home:"home",work:"work",about:"about",contact:"contact"},templates:{work:"#workTemplate"}};this.config=e.extend(!0,o,t||{}),this._initialize()};return a.prototype._initialize=function(){console.log("%cYou didn't need to tear apart my website with dev tools...you could have just asked. The github repo is right here: %chttps://github.com/BrockBeldham/beldhamdesign.com","color: #182232; font-family: 'Lato'; font-size: 18px;","color: #3C76D4; font-style: bold; font-family: 'Lato'; font-size: 18px;"),this._initNav(),this._initRouter()},a.prototype._initNav=function(){var t=e(this.config.selectors.navLink);t.on("click",function(t){t.preventDefault(),n.history.navigate(t.target.pathname,{trigger:!0})})},a.prototype._initRouter=function(){var t=this,o=this.config.selectors,e=this.config.routes,i=n.Router.extend({routes:{"":e.home,work:e.work,"work/:query":e.work,about:e.about,contact:e.contact},home:function(){t._openPage(o.homePage)},work:function(){t._initWork(),t._openPage(o.workPage)},about:function(){t._openPage(o.aboutPage)},contact:function(){t._openPage(o.contactPage)}});new i,n.history.start({pushState:!0})},a.prototype._openPage=function(t){var o=e(this.config.selectors.container),n=e(t);o.hasClass("active-page")?this._pageTransitionIn(n,o):n.addClass("active-page")},a.prototype._pageTransitionIn=function(t,o){var n=this.config.durations.pageTransition,i=this,a=e(this.config.selectors.header);o.velocity({top:"100%"},{duration:n,easing:"easeOutSine",complete:function(){setTimeout(function(){i._pageTransitionOut(t,o,a,n)},n)}}),a.velocity({top:"-150px"},{duration:n,easing:"easeOutSine"})},a.prototype._pageTransitionOut=function(t,o,e,n){var i=this;t.css({zIndex:"3",display:"block"}),t.velocity({top:"0%"},{duration:n,easing:"easeOutSine",complete:function(t){i._pageTransitionComplete(t,o)}}),e.velocity({top:"0"},{duration:n,easing:"easeOutSine"})},a.prototype._pageTransitionComplete=function(t,o){e(t).removeAttr("style"),o.removeClass("active-page"),e(t).addClass("active-page")},a.prototype._initWork=function(){var t=this;e.getJSON("static/js/ajax/work.json").done(function(o){t._bindWork(o)}).fail(function(t,o,e){var n=t+","+o+", "+e;console.log(n)})},a.prototype._bindWork=function(t){var n=e(this.config.selectors.pop),i=e(this.config.selectors.popContent),a=e(this.config.selectors.work),r=o(this._handleWorkOpen).bind(this,n,i,t);a.on("click",r)},a.prototype._handleWorkOpen=function(t,n,i,a){a.preventDefault();var r=a.target.id.slice(-1),s=e(this.config.templates.work),c=o.template(s.html());e("html").velocity("scroll",{offset:"200px",mobileHA:!1}),n.html(c(i.work[r-1])),this._bindWorkClose(),t.addClass("pop-open"),new AnalyticAttributes},a.prototype._bindWorkClose=function(){console.log("binding");var t=e(this.config.selectors.popClose),n=e(this.config.selectors.pop),i=o(this._handlePopClose).bind(this,n);t.on("click",i)},a.prototype._handlePopClose=function(t,o){console.log("handling"),o.preventDefault(),t.removeClass("pop-open")},a.prototype.getRandomNum=function(t,o){return Math.floor(Math.random()*(o-t)+t)},e(function(){new a}),a}).call(this),function(){var t=this,o=t._,e=t.jQuery,n=t.AnalyticAttributes||(t.AnalyticAttributes={}),n=function(t){var o={scope:"body",event:{category:"data-event-category",action:"data-event-action",label:"data-event-label"},namespace:"AnalyticAttributes"};this.config=e.extend(!0,o,t||{}),this._initialize()};return n.prototype._initialize=function(){var t=this.config.scope,n="["+this.config.event.category+"]",i="click."+this.config.namespace,a=o(this._handleEventClick).bind(this);e(t).find(n).off(i).on(i,a)},n.prototype._handleEventClick=function(t){var o=e(t.currentTarget),n=o.attr(this.config.event.category),i=o.attr(this.config.event.action),a=o.attr(this.config.event.label);ga("send","event",n,i,a)},e(function(){new n}),n}.call(this);
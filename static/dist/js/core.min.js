(function(){var o=this,t=o._,e=o.jQuery,n=o.Backbone,i=o.Portfolio||(o.Portfolio={}),a=i.Core=function(o){var t={selectors:{homePage:"#home",workPage:"#work",aboutPage:"#about",contactPage:"#contact",navLink:"[data-nav-link]",container:".container",header:".hdr",work:"[data-work-info]",popClose:"[data-pop-close]",pop:".pop",popBg:".pop-bg",popTile:".pop-bg-tile",popContent:".pop-content",mobiNav:"[data-mobi-nav-open]",body:"body",mobiNavClose:"[data-mobi-nav-close]"},durations:{pageTransition:700},routes:{home:"home",work:"work",about:"about",contact:"contact"},templates:{work:"#workTemplate"}};this.config=e.extend(!0,t,o||{}),this._initialize()};a.prototype._initialize=function(){console.log("%cYou didn't need to tear apart my website with dev tools...you could have just asked. The github repo is right here: %chttps://github.com/BrockBeldham/beldhamdesign.com","color: #182232; font-family: 'Lato'; font-size: 18px;","color: #3C76D4; font-style: bold; font-family: 'Lato'; font-size: 18px;"),this._initNav(),this._initRouter()},a.prototype._initNav=function(){var o=e(this.config.selectors.navLink);o.on("click",function(o){o.preventDefault(),n.history.navigate(o.target.pathname,{trigger:!0})})},a.prototype._initRouter=function(){var o=this,t=this.config.selectors,e=this.config.routes,i=n.Router.extend({routes:{"":e.home,work:e.work,"work/:query":e.work,about:e.about,contact:e.contact},home:function(){o._openPage(t.homePage)},work:function(){o._initWork(),o._openPage(t.workPage)},about:function(){o._openPage(t.aboutPage)},contact:function(){o._openPage(t.contactPage)}});new i,n.history.start({pushState:!0})},a.prototype._openPage=function(o){var t=e(this.config.selectors.container),n=e(o);t.hasClass("active-page")?this._pageTransitionIn(n,t):n.addClass("active-page")},a.prototype._pageTransitionIn=function(o,t){var n=this.config.durations.pageTransition,i=this,a=e(this.config.selectors.header);t.velocity({top:"100%"},{duration:n,easing:"easeOutSine",complete:function(){setTimeout(function(){i._pageTransitionOut(o,t,a,n)},n)}}),a.velocity({top:"-150px"},{duration:n,easing:"easeOutSine"})},a.prototype._pageTransitionOut=function(o,t,e,n){var i=this;o.css({zIndex:"3",display:"block"}),o.velocity({top:"0%"},{duration:n,easing:"easeOutSine",complete:function(o){i._pageTransitionComplete(o,t)}}),e.velocity({top:"0"},{duration:n,easing:"easeOutSine"})},a.prototype._pageTransitionComplete=function(o,t){e(o).removeAttr("style"),t.removeClass("active-page"),e(o).addClass("active-page")},a.prototype._initWork=function(){var o=this;e.getJSON("static/js/ajax/work.json").done(function(t){o._bindWork(t)}).fail(function(o,t,e){var n=o+","+t+", "+e;console.log(n)});for(var t=e(this.config.selectors.popBg),n=1;100>=n;n++){var i=document.createElement("div");i.className="pop-bg-tile",t.append(i)}},a.prototype._bindWork=function(o){e(this.config.selectors.popTile);var n=e(this.config.selectors.pop),i=e(this.config.selectors.popContent),a=e(this.config.selectors.work),r=t(this._handleWorkOpen).bind(this,n,i,o);a.on("click",r);var s=e(this.config.selectors.popClose),p=t(this._handlePopClose).bind(this,n);s.on("click",p)},a.prototype._handleWorkOpen=function(o,n,i,a){a.preventDefault();var r=a.target.id.slice(-1),s=e(this.config.templates.work),p=t.template(s.html());n.html(p(i.work[r-1])),o.addClass("pop-open"),e("body").addClass("pop-open")},a.prototype._handlePopClose=function(o,t){t.preventDefault(),o.removeClass("pop-open")},a.prototype.getRandomNum=function(o,t){return Math.floor(Math.random()*(t-o)+o)},e(function(){var o=e(".portfolio");t(o).each(function(){new a})})}).call(this);
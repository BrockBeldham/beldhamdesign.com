window.Modernizr=function(e,t,n){function o(e){b.cssText=e}function r(e,t){return o(E.join(e+";")+(t||""))}function i(e,t){return typeof e===t}function a(e,t){return!!~(""+e).indexOf(t)}function c(e,t){for(var o in e){var r=e[o];if(!a(r,"-")&&b[r]!==n)return"pfx"==t?r:!0}return!1}function s(e,t,o){for(var r in e){var a=t[e[r]];if(a!==n)return o===!1?e[r]:i(a,"function")?a.bind(o||t):a}return!1}function l(e,t,n){var o=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+S.join(o+" ")+o).split(" ");return i(t,"string")||i(t,"undefined")?c(r,t):(r=(e+" "+T.join(o+" ")+o).split(" "),s(r,t,n))}function u(){h.input=function(n){for(var o=0,r=n.length;r>o;o++)N[n[o]]=!!(n[o]in k);return N.list&&(N.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),N}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var o,r,i,a=0,c=e.length;c>a;a++)k.setAttribute("type",r=e[a]),o="text"!==k.type,o&&(k.value=w,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&k.style.WebkitAppearance!==n?(g.appendChild(k),i=t.defaultView,o=i.getComputedStyle&&"textfield"!==i.getComputedStyle(k,null).WebkitAppearance&&0!==k.offsetHeight,g.removeChild(k)):/^(search|tel)$/.test(r)||(o=/^(url|email)$/.test(r)?k.checkValidity&&k.checkValidity()===!1:k.value!=w)),j[e[a]]=!!o;return j}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var p,f,d="2.7.1",h={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,k=t.createElement("input"),w=":)",C={}.toString,E=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",S=x.split(" "),T=x.toLowerCase().split(" "),P={svg:"http://www.w3.org/2000/svg"},_={},j={},N={},A=[],z=A.slice,L=function(e,n,o,r){var i,a,c,s,l=t.createElement("div"),u=t.body,p=u||t.createElement("body");if(parseInt(o,10))for(;o--;)c=t.createElement("div"),c.id=r?r[o]:v+(o+1),l.appendChild(c);return i=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(u?l:p).innerHTML+=i,p.appendChild(l),u||(p.style.background="",p.style.overflow="hidden",s=g.style.overflow,g.style.overflow="hidden",g.appendChild(p)),a=n(l,e),u?l.parentNode.removeChild(l):(p.parentNode.removeChild(p),g.style.overflow=s),!!a},M=function(){function e(e,r){r=r||t.createElement(o[e]||"div"),e="on"+e;var a=e in r;return a||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),a=i(r[e],"function"),i(r[e],"undefined")||(r[e]=n),r.removeAttribute(e))),r=null,a}var o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),O={}.hasOwnProperty;f=i(O,"undefined")||i(O.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return O.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=z.call(arguments,1),o=function(){if(this instanceof o){var r=function(){};r.prototype=t.prototype;var i=new r,a=t.apply(i,n.concat(z.call(arguments)));return Object(a)===a?a:i}return t.apply(e,n.concat(z.call(arguments)))};return o}),_.flexbox=function(){return l("flexWrap")},_.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},_.canvastext=function(){return!(!h.canvas||!i(t.createElement("canvas").getContext("2d").fillText,"function"))},_.webgl=function(){return!!e.WebGLRenderingContext},_.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:L(["@media (",E.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},_.geolocation=function(){return"geolocation"in navigator},_.postmessage=function(){return!!e.postMessage},_.websqldatabase=function(){return!!e.openDatabase},_.indexedDB=function(){return!!l("indexedDB",e)},_.hashchange=function(){return M("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},_.history=function(){return!(!e.history||!history.pushState)},_.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},_.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},_.rgba=function(){return o("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},_.hsla=function(){return o("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},_.multiplebgs=function(){return o("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},_.backgroundsize=function(){return l("backgroundSize")},_.borderimage=function(){return l("borderImage")},_.borderradius=function(){return l("borderRadius")},_.boxshadow=function(){return l("boxShadow")},_.textshadow=function(){return""===t.createElement("div").style.textShadow},_.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},_.cssanimations=function(){return l("animationName")},_.csscolumns=function(){return l("columnCount")},_.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return o((e+"-webkit- ".split(" ").join(t+e)+E.join(n+e)).slice(0,-e.length)),a(b.backgroundImage,"gradient")},_.cssreflections=function(){return l("boxReflect")},_.csstransforms=function(){return!!l("transform")},_.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in g.style&&L("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},_.csstransitions=function(){return l("transition")},_.fontface=function(){var e;return L('@font-face {font-family:"font";src:url("https://")}',function(n,o){var r=t.getElementById("smodernizr"),i=r.sheet||r.styleSheet,a=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(o.split(" ")[0])}),e},_.generatedcontent=function(){var e;return L(["#",v,"{font:0/0 a}#",v,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},_.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(o){}return n},_.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(o){}return n},_.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},_.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},_.webworkers=function(){return!!e.Worker},_.applicationcache=function(){return!!e.applicationCache},_.svg=function(){return!!t.createElementNS&&!!t.createElementNS(P.svg,"svg").createSVGRect},_.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==P.svg},_.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(C.call(t.createElementNS(P.svg,"animate")))},_.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(C.call(t.createElementNS(P.svg,"clipPath")))};for(var D in _)f(_,D)&&(p=D.toLowerCase(),h[p]=_[D](),A.push((h[p]?"":"no-")+p));return h.input||u(),h.addTest=function(e,t){if("object"==typeof e)for(var o in e)f(e,o)&&h.addTest(o,e[o]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,m!==n&&m&&(g.className+=" "+(t?"":"no-")+e),h[e]=t}return h},o(""),y=k=null,function(e,t){function o(e,t){var n=e.createElement("p"),o=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",o.insertBefore(n.lastChild,o.firstChild)}function r(){var e=b.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=y[e[g]];return t||(t={},v++,e[g]=v,y[v]=t),t}function a(e,n,o){if(n||(n=t),p)return n.createElement(e);o||(o=i(n));var r;return r=o.cache[e]?o.cache[e].cloneNode():m.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e),!r.canHaveChildren||h.test(e)||r.tagUrn?r:o.frag.appendChild(r)}function c(e,n){if(e||(e=t),p)return e.createDocumentFragment();n=n||i(e);for(var o=n.frag.cloneNode(),a=0,c=r(),s=c.length;s>a;a++)o.createElement(c[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return b.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(b,t.frag)}function l(e){e||(e=t);var n=i(e);return!b.shivCSS||u||n.hasCSS||(n.hasCSS=!!o(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),p||s(e,n),e}var u,p,f="3.7.0",d=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",v=0,y={};(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,p=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return e.cloneNode===n||e.createDocumentFragment===n||e.createElement===n}()}catch(o){u=!0,p=!0}})();var b={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:f,shivCSS:d.shivCSS!==!1,supportsUnknownElements:p,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:c};e.html5=b,l(t)}(this,t),h._version=d,h._prefixes=E,h._domPrefixes=T,h._cssomPrefixes=S,h.hasEvent=M,h.testProp=function(e){return c([e])},h.testAllProps=l,h.testStyles=L,h.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+A.join(" "):""),h}(this,this.document),function(e,t,n){function o(e){return"[object Function]"==g.call(e)}function r(e){return"string"==typeof e}function i(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function c(){var e=v.shift();y=1,e?e.t?h(function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),c()):y=0}function s(e,n,o,r,i,s,l){function u(t){if(!d&&a(p.readyState)&&(b.r=d=1,!y&&c(),p.onload=p.onreadystatechange=null,t)){"img"!=e&&h(function(){w.removeChild(p)},50);for(var o in T[n])T[n].hasOwnProperty(o)&&T[n][o].onload()}}var l=l||f.errorTimeout,p=t.createElement(e),d=0,g=0,b={t:o,s:n,e:i,a:s,x:l};1===T[n]&&(g=1,T[n]=[]),"object"==e?p.data=n:(p.src=n,p.type=e),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){u.call(this,g)},v.splice(r,0,b),"img"!=e&&(g||2===T[n]?(w.insertBefore(p,k?null:m),h(u,l)):T[n].push(p))}function l(e,t,n,o,i){return y=0,t=t||"j",r(e)?s("c"==t?E:C,e,t,this.i++,n,o,i):(v.splice(this.i++,0,e),1==v.length&&c()),this}function u(){var e=f;return e.loader={load:l,i:0},e}var p,f,d=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in d.style,k=b&&!!t.createRange().compareNode,w=k?d:m.parentNode,d=e.opera&&"[object Opera]"==g.call(e.opera),d=!!t.attachEvent&&!d,C=b?"object":d?"script":"img",E=d?"script":C,x=Array.isArray||function(e){return"[object Array]"==g.call(e)},S=[],T={},P={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};f=function(e){function t(e){var t,n,o,e=e.split("!"),r=S.length,i=e.pop(),a=e.length,i={url:i,origUrl:i,prefixes:e};for(n=0;a>n;n++)o=e[n].split("="),(t=P[o.shift()])&&(i=t(i,o));for(n=0;r>n;n++)i=S[n](i);return i}function a(e,r,i,a,c){var s=t(e),l=s.autoCallback;s.url.split(".").pop().split("?").shift(),s.bypass||(r&&(r=o(r)?r:r[e]||r[a]||r[e.split("/").pop().split("?")[0]]),s.instead?s.instead(e,r,i,a,c):(T[s.url]?s.noexec=!0:T[s.url]=1,i.load(s.url,s.forceCSS||!s.forceJS&&"css"==s.url.split(".").pop().split("?").shift()?"c":n,s.noexec,s.attrs,s.timeout),(o(r)||o(l))&&i.load(function(){u(),r&&r(s.origUrl,c,a),l&&l(s.origUrl,c,a),T[s.url]=2})))}function c(e,t){function n(e,n){if(e){if(r(e))n||(p=function(){var e=[].slice.call(arguments);f.apply(this,e),d()}),a(e,p,t,0,l);else if(Object(e)===e)for(s in c=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(s)&&(!n&&!--c&&(o(p)?p=function(){var e=[].slice.call(arguments);f.apply(this,e),d()}:p[s]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),d()}}(f[s])),a(e[s],p,t,s,l))}else!n&&d()}var c,s,l=!!e.test,u=e.load||e.both,p=e.callback||i,f=p,d=e.complete||i;n(l?e.yep:e.nope,!!u),u&&n(u)}var s,l,p=this.yepnope.loader;if(r(e))a(e,0,p,0);else if(x(e))for(s=0;e.length>s;s++)l=e[s],r(l)?a(l,0,p,0):x(l)?f(l):Object(l)===l&&c(l,p);else Object(e)===e&&c(e,p)},f.addPrefix=function(e,t){P[e]=t},f.addFilter=function(e){S.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",p=function(){t.removeEventListener("DOMContentLoaded",p,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=c,e.yepnope.injectJs=function(e,n,o,r,s,l){var u,p,d=t.createElement("script"),r=r||f.errorTimeout;d.src=e;for(p in o)d.setAttribute(p,o[p]);n=l?c:n||i,d.onreadystatechange=d.onload=function(){!u&&a(d.readyState)&&(u=1,n(),d.onload=d.onreadystatechange=null)},h(function(){u||(u=1,n(1))},r),s?d.onload():m.parentNode.insertBefore(d,m)},e.yepnope.injectCss=function(e,n,o,r,a,s){var l,r=t.createElement("link"),n=s?c:n||i;r.href=e,r.rel="stylesheet",r.type="text/css";for(l in o)r.setAttribute(l,o[l]);a||(m.parentNode.insertBefore(r,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){var e=this,t=e._,n=e.jQuery,o=e.Backbone,r=e.Portfolio||(e.Portfolio={}),i=r.Core=function(e){var t={selectors:{homePage:"#home",workPage:"#work",aboutPage:"#about",contactPage:"#contact",navLink:"[data-nav-link]",container:".container",header:".hdr",workList:".work-list",work:"[data-work-info]",popClose:"[data-pop-close]",pop:".pop",popContent:".pop-content"},durations:{pageTransition:500},routes:{home:"home",work:"work",about:"about",contact:"contact"},templates:{work:"#workTemplate",workThumb:"#workThumbTemplate"}};this.config=n.extend(!0,t,e||{}),this._initialize()};return i.prototype._initialize=function(){console.log("%cYou didn't need to tear apart my website with dev tools...you could have just asked. The github repo is right here: %chttps://github.com/BrockBeldham/beldhamdesign.com","color: #182232; font-family: 'Lato'; font-size: 18px;","color: #3C76D4; font-style: bold; font-family: 'Lato'; font-size: 18px;"),this._initNav(),this._initRouter()},i.prototype._initNav=function(){var e=n(this.config.selectors.navLink);e.on("click",function(e){e.preventDefault(),o.history.navigate(e.target.pathname,{trigger:!0})})},i.prototype._initRouter=function(){var e=this,t=this.config.selectors,n=this.config.routes,r=o.Router.extend({routes:{"":n.home,work:n.work,"work/:query":n.work,about:n.about,contact:n.contact},home:function(){e._openPage(t.homePage)},work:function(){e._initWork(),e._openPage(t.workPage)},about:function(){e._openPage(t.aboutPage)},contact:function(){e._openPage(t.contactPage)}});new r,o.history.start({pushState:!0})},i.prototype._openPage=function(e){var t=n(this.config.selectors.container),o=n(e);t.hasClass("active-page")?this._pageTransitionIn(o,t):o.addClass("active-page")},i.prototype._pageTransitionIn=function(e,t){var o=this.config.durations.pageTransition,r=this,i=n(this.config.selectors.header);t.velocity({top:"100%"},{duration:o,easing:"easeOutSine",complete:function(){r._pageTransitionOut(e,t,i,o)}})},i.prototype._pageTransitionOut=function(e,t,n,o){var r=this;e.css({zIndex:"3",display:"block"}),e.velocity({top:"0%"},{duration:o,easing:"easeOutSine",complete:function(e){r._pageTransitionComplete(e,t)}})},i.prototype._pageTransitionComplete=function(e,t){n(e).removeAttr("style"),t.removeClass("active-page"),n(e).addClass("active-page")},i.prototype._initWork=function(){var e=this;n.getJSON("static/js/ajax/work.json").done(function(t){e._bindWork(t)}).fail(function(e,t,n){var o=e+","+t+", "+n;console.log(o)})},i.prototype._bindWork=function(e){var o=n(this.config.templates.workThumb),r=t.template(o.html()),i=n(this.config.selectors.workList),a=[];t.each(e.work,function(e,t){e.index=t,a.push(r(e))}),i.html(a);var c=n(this.config.selectors.work),s=t(this._handleWorkOpen).bind(this,e);c.on("click",s)},i.prototype._handleWorkOpen=function(e,o){o.preventDefault();var i=n(this.config.selectors.pop),a=n(this.config.selectors.popContent),c=o.currentTarget.id.slice(-1),s=n(this.config.templates.work),l=t.template(s.html()),u=i.position().top;n("html").velocity("scroll",{offset:u,mobileHA:!1}),a.html(l(e.work[c])),this._bindWorkClose(),i.addClass("pop-open"),new r.AnalyticAttributes},i.prototype._bindWorkClose=function(){var e=n(this.config.selectors.popClose),o=n(this.config.selectors.pop),r=t(this._handlePopClose).bind(this,o);e.on("click",r)},i.prototype._handlePopClose=function(e,t){t.preventDefault(),e.removeClass("pop-open")},i.prototype.getRandomNum=function(e,t){return Math.floor(Math.random()*(t-e)+e)},n(function(){new i}),i}.call(this),function(){var e=this,t=e._,n=e.jQuery,o=Portfolio.AnalyticAttributes=function(e){var t={scope:"body",event:{category:"data-event-category",action:"data-event-action",label:"data-event-label"},namespace:"AnalyticAttributes"};this.config=n.extend(!0,t,e||{}),this._initialize()};return o.prototype._initialize=function(){var e=this.config.scope,o="["+this.config.event.category+"]",r="click."+this.config.namespace,i=t(this._handleEventClick).bind(this);n(e).find(o).off(r).on(r,i)},o.prototype._handleEventClick=function(e){var t=n(e.currentTarget),o=t.attr(this.config.event.category),r=t.attr(this.config.event.action),i=t.attr(this.config.event.label);ga("send","event",o,r,i)},n(function(){new o}),o}.call(this);